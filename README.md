# Тестовое задание

## **Виды оружия**
В проекте реализовано несколько типов оружия, которые отличаются способом стрельбы:  
1. **Автоматический** — стрельба с зажатой кнопкой.  
2. **Одиночный** — по одному выстрелу.  
3. **Очередями** — фиксированное количество выстрелов подряд.  

Оружие реализованы через **единый класс**, различия задаются типом и настройками через **ScriptableObject**.  

Дополнительно:  
- Реализован **разброс оружия** и его **откат**.  
- Добавлено **визуальное обозначение разброса** (например, при зажатой стрельбе автоматического оружия точность снижается).  
- Стрельба основана на **RayCast** и визуализирована через **LineRenderer**.  

---

## **Смена оружия**
- Реализована возможность менять оружие по ходу игры:  
  - Кнопками `1`, `2`, `3` и т.д.  
  - Колёсиком мыши (выбор предыдущего/следующего оружия).  
- Порядок оружий и их настройки задаются через **ScriptableObject `WeaponHolderSettings`**.  

---

## **Враги**
Создан **родительский класс для врагов**, реализующий:  
- Передвижение,  
- Получение урона,  
- Смерть и другие базовые методы.  

Все настройки врагов вынесены в **ScriptableObject**. Передвижение реализовано с помощью **NavMesh**.  

Реализованы два типа врагов:  
1. **Враг ближнего боя (волк)** — следует за игроком и атакует на определённой дистанции.  
2. **Враг дальнего боя (паук)** — со своей небольшой **машиной состояний**:  
   - Поиск безопасной дистанции для стрельбы.  
   - Стрельба (даже при изменении расстояния).  
   - Преследование (если игрок слишком далеко).  
   - Отступление после попадания во время стрельбы.  
   - Паника (хаотичное движение, если игрок подошёл слишком близко).  

Особенности:  
- Реализовано **нанесение урона в зависимости от зоны попадания** (тело, конечности, голова).  
- Настраиваемые **множители урона**.  
- Визуальный индикатор попадания:  
  - Белый — обычное попадание.  
  - Красный — попадание в голову.  
- Для паука используется один хитбокс без деления.  

---

## **Спавн врагов**
Спавн реализован через **пул префабов** врагов:  
- Повторное использование ранее поражённых врагов.  
- Настройка частоты появления через **вес спавна (0–1)**: чем выше вес, тем чаще враг появляется.  
- **Случайный разброс времени спавна** между врагами.  
- **Ограничение максимального количества врагов** одновременно.  

Все параметры задаются через **ScriptableObject `EnemyScenaristSettings`**.  

---

## **Окончание игры**
- При потере всего здоровья игроком игра завершается.  
- Производится подсчёт:  
  - **Текущего рекорда** (количество убитых монстров).  
  - **Максимального рекорда**.  
- После завершения можно начать игру заново.  
